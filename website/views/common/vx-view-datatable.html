<html>

<head>
   <meta charset="UTF-8">
   <base href="../">
   <meta http-equiv="content-type" content="text/html;charset=utf-8;" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="styles/plugins/elementui.css">
   <link rel="stylesheet" href="scripts/plugins/datatables/datatables.min.css">
   <link rel="stylesheet" href="scripts/plugins/datatables/DT_bootstrap.css">
   <link rel="stylesheet" href="components/css-loader.css">
   <link rel="stylesheet" href="styles/plugins/font-awesome.css">
   <link rel="stylesheet" href="styles/style.css">

   <title>组件开发环境</title>
   <style>
   </style>
</head>

<body>
   <div id="app">
      <el-row>
         <el-col :span="16">
            <el-card class="box-card" style="margin-top: 10px;">
               <div slot="header" class="clearfix title">
                  <span>
                     <b>数据表格显示</b>：组件测试条件（包括props、内部条件等）</span>
               </div>
               <div>
                  <table border="1" style="width: 100%;">
                     <tr>
                        <td>参数</td>
                        <td>方向</td>
                        <td>说明</td>
                        <td>类型</td>
                        <td>可选值</td>
                        <td>默认值</td>
                     </tr>
                     <tr>
                        <td>options</td>
                        <td>输入</td>
                        <td>表格参数</td>
                        <td>object</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>tabledata</td>
                        <td>输入</td>
                        <td>外部表格数据</td>
                        <td>array</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>htmltable</td>
                        <td>输入</td>
                        <td>外部表格html</td>
                        <td>array</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>btnspan</td>
                        <td>输入</td>
                        <td>标题栏按钮空间宽度</td>
                        <td>number</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>checked</td>
                        <td>输入/输出</td>
                        <td>选中的行的主键值列表（多选框）</td>
                        <td>array</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>rowdata</td>
                        <td>输出</td>
                        <td>当前行数据对象</td>
                        <td>object</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>pageno</td>
                        <td>输入/输出</td>
                        <td>当前页码</td>
                        <td>number</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>pagesize</td>
                        <td>输入/输出</td>
                        <td>行数/页</td>
                        <td>number</td>
                        <td>

                        </td>
                        <td></td>
                     </tr>
                  </table>
                  <br>
                  <table border="1" style="width: 100%;">
                     <tr>
                        <td>slot名称</td>
                        <td>说明</td>
                        <td>默认值</td>
                     </tr>
                     <tr>
                        <td>没有名称</td>
                        <td>主体slot</td>
                        <td></td>
                     </tr>
                     <tr>
                        <td>BtnContainer</td>
                        <td>按钮容器，位于搜索框后面，用于对表格批量处理</td>
                        <td></td>
                     </tr>
                  </table>
               </div>
            </el-card>
            <el-card class="box-card" style="margin-top: 10px;">
               <div slot="header" class="clearfix">
                  <span>组件显示</span>
               </div>
               <vx-view-datatable :options="Options" :tabledata="List"></vx-view-datatable>
            </el-card>
            <el-card class="box-card" style="margin-top: 10px;">
               <div slot="header" class="clearfix title">
                  <span>组件数据变量（包括输出结果、内部数据等）</span>
               </div>
               <div>
                  <!-- 输出的结果与内部数据 -->
                  options说明：<br/>
                  基础对象: order: 排序，数字代表第几列<br/>
                  paging 是否需要分页<br/>
                  columns对象：列定义：data：显示的字段名称<br/><br/>

                  options对象: {{Options}} <br/><br/>
                  tabledata对象: {{List}}<br/>
                  <br> checked对象: {{ checked }}
               </div>
            </el-card>
         </el-col>
         <el-col :span="8">
            <el-card class="box-card" style="margin-left: 10px;">
               <div slot="header" class="clearfix">
                  <span>自动化测试脚本</span>
                  <el-button style="float: right; padding: 3px 0" type="text">开始测试</el-button>
               </div>
               <textarea style="border-radius: 5px; width: 100%; height: 80%;"></textarea>
            </el-card>
         </el-col>
      </el-row>
   </div>
</body>
<!-- 先引入 Vue -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script type="text/javascript" src="scripts/plugins/vuex.js"></script>
<!-- 引入组件库 -->
<script type="text/javascript" src="scripts/plugins/elementui.min.js"></script>

<!-- 常用控件库 -->
<script type="text/javascript" src="scripts/plugins/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="scripts/plugins/moment/moment.min.js"></script>
<script type="text/javascript" src="scripts/plugins/moment/moment.zh-cn.js"></script>
<script type="text/javascript" src="scripts/plugins/layer/layer.js"></script>
<script type="text/javascript" src="scripts/plugins/datatables/datatables.min.js"></script>
<script type="text/javascript" src="scripts/plugins/datatables/DT_bootstrap.js"></script>

<!-- 自定义JS库 -->
<script type="text/javascript" src="scripts/common/jquery.ajax.js"></script>
<script type="text/javascript" src="scripts/common/jquery.form.js"></script>

<script type="text/javascript" src="scripts/common/languages.cn.js"></script>

<script type="text/javascript" src="scripts/common/components-init.js"></script>
<script>
   vueOptions = {
      data() {
         var idField = "Id";
         var LoaderDict = {
               Business: {
                  CompanyName: "集团名称"
               },
               Common: {
                  Available: "可用",
                  Count: "数量",
                  Plugins: "插件",
                  Enabled: "启用状态",
                  Operation: "操作",
                  Modify: "修改",
                  Delete: "删除"
               },
               Status: {
                  Enabled: "启用",
                  Disabled: "停用"
               }
            };
         return {
            checked:"",
            Search: "测试条件",
            PageTitle: "组件开发环境",
            form: {
               MallName: "案场名称",
               Address: "",
               PostCode: ""
            },
            List: [],
            LoaderDict: LoaderDict,
            Options: {
               idField: idField,
               paging: true,
               autoWidth: true,
               order: [[0, "asc"]],
               columns: [
                  // "集团名称"
                  {
                     title: LoaderDict.Business.CompanyName,
                     width: 80,
                     className: "text-center",
                     data: "Name"
                  },
                  {
                     title: LoaderDict.Common.Plugins + LoaderDict.Common.Count, //"插件数量",
                     width: 80,
                     className: "text-center",
                     data: function (row) {
                        if (row.PageWidgets) return row.PageWidgets.length;
                        return 0;
                     }
                  },
                  {
                     title: LoaderDict.Common.Enabled, // "是否启用",
                     width: 80,
                     className: "text-center",
                     data: function (row) {
                        return {
                           "1": LoaderDict.Status.Enabled, //"启用",
                           "-1": LoaderDict.Status.Disabled //"停用"
                        }[row.Enabled];
                     }
                  },
                  {
                     title: LoaderDict.Common.Operation, //  "操作",
                     width: 60,
                     sortable: false,
                     className: "text-center",
                     data: function (row) {
                        var plugin =
                           "<a class='blue plugin' data-toggle='modal' key='" +
                           row[idField] +
                           "' vue-click='plugin'>" +
                           LoaderDict.Common.Available +
                           LoaderDict.Common.Plugins +
                           "</a> ";
                        var modify =
                           "<a class='blue modify' data-toggle='modal' key='" +
                           row[idField] +
                           "' vue-click='modify'>" +
                           LoaderDict.Common.Modify +
                           "</a> ";
                        var trash =
                           "<a class='red delete' key='" +
                           row[idField] +
                           "' vue-click='delete' >" +
                           LoaderDict.Common.Delete +
                           "</a> ";
                        return plugin + modify + trash;
                     }
                  }
               ]

            },
            Url: "/UserService.html"
         }
      }
   }
</script>
<style>
   table {
      /* width: 100%; */
      border-collapse: separate;
      border-spacing: 2;
   }
</style>
